def revrot(strng, sz):
    result = ""

    while sz <= len(strng):
        chunk = strng[:sz]
        #print(chunk)

        if sum([int(n) ** 3 for n in chunk]) % 2 == 0:
            result += chunk[::-1]
        else:
            result += chunk[1:] + chunk[0]

        strng = strng[sz:]

    return result

### TESTS

# s = "733049910872815764"
#res = revrot(s, 5) # => "330479108928157"
# print(res == "330479108928157")

s = "3671898683106370157792260952441298012516711369278687360058345723963455960535860589325261086995827766457482036181109814070013637473707798720040812290359812949612942160411860375790810509557000969659281565058138555214811888226327592639494760300854962930593966202756073585218852860508038342244510531344853743005862560242902143104894552801326887055774622032477673716815503255402516619925458084334360901156676301367540665292107588780469875829638850547795472087236969051794037478948829525823961653396280305846951157693824691113141379131458643678603773704985318028500666243224986094108204521761683724467160894003801116562775756045131714920802731720191821751886302241277687048734230917578107013228223514559673332821116208826825487809928329939318019205584848073123893760754471460603339127743583236237687370545088750976660963"
# => '145519682865169036714864635250284041776682583184122482271891385966898525328760573946206114924834074720351589197994079554161643500086295505386857999537151173101665762983896933354302275435314277564567737522614851728968490265154938202170181291392466206585327020705234075636953836771666520739510865800393444674270783413841190718402188639354260036208225710173683792075343794580111451897258511380272630556734969569324994035336023585220986244351379738633985355452126102394883415401507679799816814289613674840721212163186765461470799335090910621889285234627399620808214042807743014739400093211554978171740416432618993703396047268940924375474853923340084165369510399155776248009991053205124350542762954440162326529694307698132583277811736744499381136317660665271688653644498178404145294148391430524434903031174378383928356600485964709620210309392267949274776718144534211419308450538834205576519975992532355966939890633535611297078294312191168967769386827445434726106413761476386250761938539950044602110221492804603156990836976691087604651051459719261657823513'

res = revrot(s, 22) # => "6718986831063701577923609524412980125167113269327543850063786872961625239850685350695543869958277664574820361007374736310070418901182189530922180400278977496129421604118603757908105095570009696592898881184125558318505651263275926394947603008249629305939662027560752438308050682588125853445105313448537430058255498401341209242065262302264775507886231082776737168155032554025409063433480854529916611566763013675406652921075887804698758296388150969632780274597745057940374789488295258231115964850308269335616931973141311196428396754586436786037737049851180285006662432249860364427386167125402801491608940038011165627757560451317149208027317772142203688157128191027018757190324378407867823337695541532282231011162088268254878099223299393180192055848488731238937607544714606033391277435832362376803705450887509766609637"
print(res)